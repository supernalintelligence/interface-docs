/**
 * ⚠️  AUTO-GENERATED FILE - DO NOT EDIT MANUALLY!
 * 
 * ❌ WARNING: ANY MANUAL EDITS WILL BE OVERWRITTEN ON NEXT GENERATION
 * 
 * This file is automatically generated from Gherkin feature files.
 * To make changes:
 *   1. Edit the .feature file in features/
 *   2. Regenerate: npx si generate-story-tests features -o tests/generated/stories
 * 
 * Generated Playwright Test
 * Feature: SubtitleOverlay Component
 * 
 * Generated by: GraphTestGenerator
 * Generated at: 2026-01-28T06:59:27.750Z
 */

import { test, expect } from '@playwright/test';
import { testId } from '@supernal/interface/testing';
import { SubtitleOverlay } from '../../../src/architecture/ComponentNames';
import { Routes } from '../../../src/architecture/Routes';
import { initializeTestState } from '@supernal/interface/testing';

test.describe('SubtitleOverlay Component', () => {
  test.setTimeout(30000);

  // Initialize test state manager after page navigation
  test.afterEach(async ({ page }) => {
    // Clean up test state after each test
  });

  test('Collapsed state shows @/ icon', async ({ page }) => {
    // Execution order: Collapsed state shows @/ icon-0 → Collapsed state shows @/ icon-1 → Collapsed state shows @/ icon-2
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Then Components.SubtitleOverlay.collapsedContainer should be visible
    await expect(page.locator(testId(SubtitleOverlay.collapsedContainer))).toBeVisible();

    // Then Components.SubtitleOverlay.voiceButton should contain "@/"
    await expect(page.locator(testId(SubtitleOverlay.voiceButton)).first()).toContainText('@/');

  });

  test('Clicking @/ expands the overlay', async ({ page }) => {
    // Execution order: Clicking @/ expands the overlay-3 → Clicking @/ expands the overlay-4 → Clicking @/ expands the overlay-5 → Clicking @/ expands the overlay-6 → Clicking @/ expands the overlay-7
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // Then Components.SubtitleOverlay.container should be visible
    await expect(page.locator(testId(SubtitleOverlay.container))).toBeVisible();

    // Then Components.SubtitleOverlay.input should be visible
    await expect(page.locator(testId(SubtitleOverlay.input))).toBeVisible();

  });

  test('Clicking X collapses the overlay', async ({ page }) => {
    // Execution order: Clicking X collapses the overlay-8 → Clicking X collapses the overlay-9 → Clicking X collapses the overlay-10 → Clicking X collapses the overlay-11 → Clicking X collapses the overlay-12
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // And I click Components.SubtitleOverlay.collapseButton
    await page.locator(testId(SubtitleOverlay.collapseButton)).first().click();

    // Then Components.SubtitleOverlay.collapsedContainer should be visible
    await expect(page.locator(testId(SubtitleOverlay.collapsedContainer))).toBeVisible();

  });

  test('Expanded state shows </ icon (not listening)', async ({ page }) => {
    // Execution order: Expanded state shows </ icon (not listening)-13 → Expanded state shows </ icon (not listening)-14 → Expanded state shows </ icon (not listening)-15 → Expanded state shows </ icon (not listening)-16
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // Then Components.SubtitleOverlay.voiceButton should contain "</"
    await expect(page.locator(testId(SubtitleOverlay.voiceButton)).first()).toContainText('</');

  });

  test('Typing in input field', async ({ page }) => {
    // Execution order: Typing in input field-17 → Typing in input field-18 → Typing in input field-19 → Typing in input field-20 → Typing in input field-21 → Typing in input field-22
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // And I type "Hello AI" in Components.SubtitleOverlay.input
    await page.locator(testId(SubtitleOverlay.input)).fill('Hello AI');

    // Then Components.SubtitleOverlay.input should contain "Hello AI"
    await expect(page.locator(testId(SubtitleOverlay.input)).first()).toHaveValue('Hello AI');

    // Then Components.SubtitleOverlay.sendButton should be visible
    await expect(page.locator(testId(SubtitleOverlay.sendButton))).toBeVisible();

  });

  test('Sending a message shows AI response', async ({ page }) => {
    // Execution order: Sending a message shows AI response-23 → Sending a message shows AI response-24 → Sending a message shows AI response-25 → Sending a message shows AI response-26 → Sending a message shows AI response-27 → Sending a message shows AI response-28
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // And I type "What time is it?" in Components.SubtitleOverlay.input
    await page.locator(testId(SubtitleOverlay.input)).fill('What time is it?');

    // And I click Components.SubtitleOverlay.sendButton
    await page.locator(testId(SubtitleOverlay.sendButton)).first().click();

    // Then Components.SubtitleOverlay.aiMessage should be visible
    await expect(page.locator(testId(SubtitleOverlay.aiMessage))).toBeVisible();

  });

  test('Drag handle is visible on desktop', async ({ page }) => {
    // Execution order: Drag handle is visible on desktop-29 → Drag handle is visible on desktop-30 → Drag handle is visible on desktop-31 → Drag handle is visible on desktop-32
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // Then Components.SubtitleOverlay.dragHandle should be visible
    await expect(page.locator(testId(SubtitleOverlay.dragHandle))).toBeVisible();

  });

  test('TTS button hidden when no TTS widgets on page', async ({ page }) => {
    // Execution order: TTS button hidden when no TTS widgets on page-33 → TTS button hidden when no TTS widgets on page-34
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Then Components.SubtitleOverlay.ttsPlaylistButton should be hidden
    await expect(page.locator(testId(SubtitleOverlay.ttsPlaylistButton))).toBeHidden();

  });

  test('Completed actions toggle hidden when no actions', async ({ page }) => {
    // Execution order: Completed actions toggle hidden when no actions-35 → Completed actions toggle hidden when no actions-36 → Completed actions toggle hidden when no actions-37 → Completed actions toggle hidden when no actions-38
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // Then Components.SubtitleOverlay.actionsToggle should be hidden
    await expect(page.locator(testId(SubtitleOverlay.actionsToggle))).toBeHidden();

  });

  test('Completed actions toggle visible after sending message', async ({ page }) => {
    // Execution order: Completed actions toggle visible after sending message-39 → Completed actions toggle visible after sending message-40 → Completed actions toggle visible after sending message-41 → Completed actions toggle visible after sending message-42 → Completed actions toggle visible after sending message-43 → Completed actions toggle visible after sending message-44
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // And I type "Test message" in Components.SubtitleOverlay.input
    await page.locator(testId(SubtitleOverlay.input)).fill('Test message');

    // And I click Components.SubtitleOverlay.sendButton
    await page.locator(testId(SubtitleOverlay.sendButton)).first().click();

    // Then Components.SubtitleOverlay.actionsToggle should be visible
    await expect(page.locator(testId(SubtitleOverlay.actionsToggle))).toBeVisible();

  });

  test('Clicking completed actions toggle shows list', async ({ page }) => {
    // Execution order: Clicking completed actions toggle shows list-45 → Clicking completed actions toggle shows list-46 → Clicking completed actions toggle shows list-47 → Clicking completed actions toggle shows list-48 → Clicking completed actions toggle shows list-49 → Clicking completed actions toggle shows list-50 → Clicking completed actions toggle shows list-51
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // And I type "Test message" in Components.SubtitleOverlay.input
    await page.locator(testId(SubtitleOverlay.input)).fill('Test message');

    // And I click Components.SubtitleOverlay.sendButton
    await page.locator(testId(SubtitleOverlay.sendButton)).first().click();

    // And I click Components.SubtitleOverlay.actionsToggle
    await page.locator(testId(SubtitleOverlay.actionsToggle)).first().click();

    // Then Components.SubtitleOverlay.actionsList should be visible
    await expect(page.locator(testId(SubtitleOverlay.actionsList))).toBeVisible();

  });

  test('AI message fades out after display time', async ({ page }) => {
    // Execution order: AI message fades out after display time-52 → AI message fades out after display time-53 → AI message fades out after display time-54 → AI message fades out after display time-55 → AI message fades out after display time-56 → AI message fades out after display time-57
    // Given I am on Routes.Demo.Subtitle
    await page.goto(`${Routes.demo.subtitle}`);
    await initializeTestState(page);

    // Given Components.SubtitleOverlay.collapsedContainer is visible
    await page.locator(testId(SubtitleOverlay.collapsedContainer)).first().waitFor({ state: 'visible' });

    // When I click Components.SubtitleOverlay.voiceButton
    await page.locator(testId(SubtitleOverlay.voiceButton)).first().click();

    // And I type "Hello" in Components.SubtitleOverlay.input
    await page.locator(testId(SubtitleOverlay.input)).fill('Hello');

    // And I click Components.SubtitleOverlay.sendButton
    await page.locator(testId(SubtitleOverlay.sendButton)).first().click();

    // Then Components.SubtitleOverlay.aiMessage should be hidden
    await expect(page.locator(testId(SubtitleOverlay.aiMessage))).toBeHidden();

  });

});
